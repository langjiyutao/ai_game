# 《头文字R》游戏设计文档

## 1. 游戏概述

《头文字R》是一款基于JavaScript开发的Web反应类游戏，挑战玩家的反应速度和颜色识别能力。游戏核心机制围绕颜色与文字的不一致性判断，玩家需要快速做出正确选择以获得高分。

## 2. 核心玩法

### 2.1 基本规则
- 当按钮的**字体颜色**与**文字内容所指的颜色**不一致时，玩家需要点击该按钮得分
- 游戏提供两种玩法模式：
  - **玩法1**：根据提示词点击对应的选项（如"请点击'对应'的字：红色的 黄"）
  - **玩法2**：自行判断字体颜色与文字内容是否一致，点击所有不一致的选项

### 2.2 计分系统
- 正确点击：+10分
- 连击奖励激活时：双倍分数
- 错误点击：不加分，减少游戏时间，重置连击数

### 2.3 连击奖励系统
- **5连击**：3秒内分数×2
- **10连击**：下轮额外+2秒答题时间
- **15连击**：临时"错误免疫"（1次错误不计惩罚）

## 3. 游戏流程

### 3.1 游戏启动
1. 显示"点击任意位置继续"提示
2. 用户点击后显示主菜单并播放背景音乐
3. 玩家可选择"开始游戏"、查看"游戏规则"或"成就"

### 3.2 游戏进行
1. 游戏开始时有倒计时动画
2. 第一关仅使用基础模式（玩法1）
3. 第二关开始随机使用两种玩法
4. 随着分数提高，游戏难度逐渐增加：
   - 增加更多颜色选项
   - 增加选项数量
   - 提高反应时间要求

### 3.3 游戏结束
1. 时间耗尽时游戏结束
2. 显示最终得分、最高连击数、通关数等统计信息
3. 检查是否解锁新成就
4. 提供重新开始和分享结果的选项

## 4. 技术实现

### 4.1 游戏架构
- 纯原生JavaScript实现，无框架依赖
- HTML5和CSS3实现界面和动画效果
- 本地存储(localStorage)保存游戏进度和成就

### 4.2 主要模块
- **游戏状态管理**：跟踪分数、连击、时间等游戏状态
- **界面管理**：处理不同游戏界面的切换和显示
- **动态难度系统**：根据玩家表现调整游戏难度
- **音效系统**：管理游戏中的各种音效和背景音乐
- **成就系统**：跟踪和解锁玩家成就
- **3D标题效果**：使用Three.js实现的动态标题

### 4.3 视觉效果
- 卡通美术风格，色彩鲜明
- 按钮动画效果：
  - 与107 BPM音乐节奏同步的摇摆动画
  - 结合旋转和缩放的组合动画
- 分数和连击特效
- 3D标题带有心跳效果的"R"字

### 4.4 音频系统
- 背景音乐（主菜单和游戏中）
- 交互音效（点击、正确、错误等）
- 特殊事件音效（连击、升级等）

## 5. 用户界面

### 5.1 主菜单
- 3D动态标题
- 开始游戏、游戏规则、成就按钮
- 点击继续提示层（初始显示）

### 5.2 游戏界面
- 顶部状态栏：分数、连击数、剩余时间
- 中央提示区：显示当前任务提示
- 选项区：显示可点击的颜色文字选项
- 特效层：显示分数、连击等特效

### 5.3 结果界面
- 最终得分
- 游戏统计：最高连击、通关数、正确率等
- 新解锁的成就
- 重新开始和分享按钮

## 6. 成就系统

### 6.1 可解锁成就
- **连击王者**：单次达成15连击
- **速通达人**：1分钟内通关3关
- **不屈战神**：连续错误5次仍通关

### 6.2 成就解锁机制
- 游戏结束时检查成就条件
- 解锁新成就时显示通知
- 成就记录保存在本地存储中

## 7. 适配与兼容性

### 7.1 设备适配
- 响应式设计，适应不同屏幕尺寸
- 针对移动设备优化的触控体验
- 针对小屏幕设备的布局调整

### 7.2 浏览器兼容性
- 支持现代浏览器（Chrome、Firefox、Safari、Edge）
- 针对音频自动播放限制的特殊处理
- 降级方案：不支持WebGL时使用2D标题

## 8. 未来扩展计划

### 8.1 功能扩展
- 添加更多难度级别
- 实现双人对战模式
- 添加更多视觉和音效反馈

### 8.2 内容扩展
- 增加更多颜色选项
- 添加特殊关卡和挑战模式
- 实现在线排行榜系统
