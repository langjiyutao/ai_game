<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>头文字R</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Three.js库 -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
</head>
<body>
    <div class="game-container">
        <!-- 主菜单界面 -->
        <div id="main-menu" class="screen active">
            <div id="title-container" class="game-title"></div>
            <div class="mascot">
                <div class="mascot-image"></div>
            </div>
            <!-- 点击继续提示层 -->
            <div id="click-to-continue" class="click-overlay">
                <div class="click-text">点击任意位置继续</div>
                <div class="click-icon">👆</div>
            </div>
            <div class="menu-options" style="display: none;">
                <button id="start-game" class="btn btn-primary">开始游戏</button>
                <button id="show-rules" class="btn">游戏规则</button>
                <button id="show-achievements" class="btn">成就</button>
            </div>
        </div>

        <!-- 规则界面 -->
        <div id="rules-screen" class="screen">
            <h2>游戏规则</h2>
            <div class="rules-content">
                <p><strong>核心规则：</strong>当按钮的<span class="highlight">字体颜色</span>与<span class="highlight">文字内容所指的颜色</span>不一致时，点击该按钮得分！</p>
                
                <div class="rule-examples">
                    <div class="example correct">
                        <span style="color: red;">黄</span>
                        <p>正确！(红色的"黄"字)</p>
                    </div>
                    <div class="example incorrect">
                        <span style="color: red;">红</span>
                        <p>错误！(红色的"红"字)</p>
                    </div>
                </div>
                
                <p><strong>游戏模式：</strong></p>
                <ul>
                    <li><strong>基础模式：</strong> 根据提示词点击对应的选项</li>
                    <li><strong>高级模式：</strong> 自行判断字体颜色与文字内容是否一致</li>
                </ul>
                
                <p><strong>连击奖励：</strong></p>
                <ul>
                    <li><span class="combo-reward">5连击：</span> 3秒内分数×2</li>
                    <li><span class="combo-reward">10连击：</span> 下轮额外+2秒答题时间</li>
                    <li><span class="combo-reward">15连击：</span> 临时"错误免疫"（1次错误不计惩罚）</li>
                </ul>
                
                <p><strong>难度提升：</strong></p>
                <ul>
                    <li>随着分数提高，游戏会增加更多颜色选项</li>
                    <li>选项数量会随关卡增加</li>
                    <li>反应时间要求会逐渐提高</li>
                </ul>
                
                <p><strong>成就系统：</strong></p>
                <ul>
                    <li><span class="achievement">连击王者：</span> 单次达成15连击</li>
                    <li><span class="achievement">速通达人：</span> 1分钟内通关3关</li>
                    <li><span class="achievement">不屈战神：</span> 连续错误5次仍通关</li>
                </ul>
            </div>
            <button id="back-from-rules" class="btn btn-back">返回</button>
        </div>

        <!-- 成就界面 -->
        <div id="achievements-screen" class="screen">
            <h2>成就</h2>
            <div class="achievements-list">
                <!-- 成就会通过JS动态生成 -->
            </div>
            <button id="back-from-achievements" class="btn btn-back">返回</button>
        </div>

        <!-- 游戏界面 -->
        <div id="game-screen" class="screen">
            <div class="game-area">
                <div id="prompt-container" class="prompt-container">
                    <!-- 提示词会通过JS动态生成 -->
                </div>
                <div id="options-container" class="options-container">
                    <!-- 选项按钮会通过JS动态生成 -->
                </div>
            </div>

            <div class="game-header">
                <div class="score-container">
                    <span>分数: </span>
                    <span id="score">0</span>
                </div>
                <div class="combo-container">
                    <span>连击: </span>
                    <span id="combo">0</span>
                </div>
                <div class="time-container">
                    <span>时间: </span>
                    <span id="time">5</span>
                </div>
                <div class="level-container">
                    <span>关卡: </span>
                    <span id="level">1</span>
                </div>
            </div>

            <div class="countdown-overlay" id="countdown">
                <div class="countdown-number">3</div>
            </div>

            <div class="combo-indicator" id="combo-indicator">
                <div class="combo-number">0</div>
                <div class="combo-text">连击</div>
            </div>

            <div class="mascot-game">
                <div class="mascot-image"></div>
            </div>
        </div>

        <!-- 结果界面 -->
        <div id="result-screen" class="screen">
            <h2>游戏结束</h2>
            <div class="result-stats">
                <p>最终分数: <span id="final-score">0</span></p>
                <p>最高连击: <span id="max-combo">0</span></p>
                <p>通过关卡: <span id="cleared-levels">0</span></p>
                <p>正确率: <span id="accuracy">0%</span></p>
                <p>最快反应: <span id="fastest-time">0.00</span>秒</p>
                <p>平均反应: <span id="average-time">0.00</span>秒</p>
            </div>
            <div class="unlocked-item" id="unlocked-container">
                <!-- 解锁内容会通过JS动态生成 -->
            </div>
            <div class="result-buttons">
                <button id="play-again" class="btn btn-primary">再玩一次</button>
                <button id="share-result" class="btn">分享成绩</button>
                <button id="back-to-menu" class="btn">返回主菜单</button>
            </div>
        </div>
    </div>

    <!-- 音效资源 -->
    <audio id="click-sound" src="sounds/click.mp3" preload="auto"></audio>
    <audio id="correct-sound" src="sounds/correct.mp3" preload="auto"></audio>
    <audio id="wrong-sound" src="sounds/wrong.mp3" preload="auto"></audio>
    <audio id="combo-sound" src="sounds/click.mp3" preload="auto"></audio>
    <audio id="level-up-sound" src="sounds/levelup.mp3" preload="auto"></audio>
    <audio id="win-sound" src="sounds/winmusic.mp3" preload="auto"></audio>
    <audio id="bgm-sound" src="sounds/bgm.mp3" preload="auto" loop></audio>
    <audio id="home-sound" src="sounds/homePage.mp3" preload="auto" loop></audio>

    <script src="js/title3d.js"></script>
    <script src="game.js"></script>
</body>
</html>
